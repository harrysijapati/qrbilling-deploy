(this["webpackJsonpfancy-store"]=this["webpackJsonpfancy-store"]||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=(a(93),a(12)),i=a(17),s=function(e){var t=e.value;return r.a.createElement("h1",null,t)},u=function(){return r.a.createElement(s,{value:" Not found page"})},d=a(7),m=a(148),p=a(143),b=a(53),f=a(33),h=a(28),g=a(77),x=a(75),E=a(76),v=(a(97),"https://api.cupponpro.com/api/v1/"),C=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={delay:100,result:"No result",facingMode:"rear"},n.handleScan=n.handleScan.bind(Object(h.a)(n)),n}return Object(f.a)(a,[{key:"handleScan",value:function(e){if(e){this.setState({result:e});var t=JSON.parse(e);t.company_id&&t.table_no&&window.location.assign("https://mastarqr.com/"+t.company_id+"?table_no="+t.table_no)}}},{key:"handleError",value:function(e){console.error(e)}},{key:"handleCameraSwitch",value:function(){this.setState({facingMode:"rear"==this.state.facingMode?"front":"rear"})}},{key:"render",value:function(){var e=this;return console.log(this.state.facingMode,"facing mode"),r.a.createElement("div",null,r.a.createElement(p.a,{style:{color:"#00e6ff",fontSize:"15pt",textAlign:"center"},onClick:function(){return e.handleCameraSwitch()}},"Switch Camera"),r.a.createElement(E.a,{resolution:!0,className:"qrReader",delay:this.state.delay,style:{height:300,width:300,position:"relative",borderStyle:"solid",borderColor:"red"},onError:this.handleError,onScan:this.handleScan,facingMode:this.state.facingMode}))}}]),a}(n.Component),y=a(147),N=Object(y.a)({root:{display:"flex",backgroundColor:"rgba(0,0,0,0.8)",justifyContent:"center",height:"100vh",flexDirection:"column"},scanOrder:{justifyContent:"center",display:"flex",flexDirection:"column",textAlign:"center"},scan:{color:"white",fontSize:"22pt"},order:{color:"white",fontSize:"15pt"},qr:{alignItems:"center"}}),O=function(e){var t=Object(n.useState)(!0),a=Object(d.a)(t,2),o=a[0],c=a[1],l=N(e);return r.a.createElement(m.a,{container:!0,className:l.root},r.a.createElement("div",{className:l.scanOrder},r.a.createElement(p.a,{className:l.scan}," Scan The QR CODE"),r.a.createElement(p.a,{className:l.order},"And Order Food")),r.a.createElement(m.a,null,o?r.a.createElement(C,{className:l.qr}):r.a.createElement("img",{src:"https://i.pinimg.com/originals/9b/56/2c/9b562ca0be290e80f201486a4fbcf849.png",alt:"image",onClick:function(){return c(!o)}})))},j=a(20),S=a.n(j),k=a(8),w=a(22),T=a(35),I=a(2),F=a(149),R=a(150),D=a(151),M=a(3),_=a(72),P=a.n(_),z=Object(y.a)((function(e){return{back:{cursor:"pointer",margin:"8px 16px"},shape:{backgroundColor:"white",width:30,height:30},shapeCircle:{borderRadius:"50%"},arrow:{margin:"5px 0 0px 10px",fontSize:"1rem"},card:{display:"flex",justifyContent:"space-between",padding:"8px 16px 30px",margin:"18px 0 0"},logo:{backgroundColor:"#F8F9F9",borderRadius:"5px",width:"25%",height:"106px",marginRight:"8px"},img:{width:"106px",height:"106px",objectFit:"cover"},info:{backgroundColor:"#F8F9F9",borderRadius:"5px",width:"72%",height:"106px"},cardContent:{padding:"6px 12px"},resName:{fontSize:"14pt",fontWeight:"bold",lineHeight:"22px"},tableNumber:{fontSize:"12pt",lineHeight:"22px",marginBottom:"3px"},txt:{fontSize:"12pt",lineHeight:"22px"}}})),A=function(e){var t=e.menuList,a=(e.tableNumber,z()),n=r.a.createElement("div",{className:Object(M.a)(a.shape,a.shapeCircle)},r.a.createElement(P.a,{className:a.arrow}));return r.a.createElement("div",null,r.a.createElement(F.a,{color:"secondary",badgeContent:0,className:a.back},n),r.a.createElement("div",{className:a.card},t&&t.data&&r.a.createElement(R.a,{className:a.logo},r.a.createElement("img",{src:t.data.logo_icon,className:a.img})),t&&t.data&&r.a.createElement(R.a,{className:a.info},r.a.createElement(D.a,{className:a.cardContent},r.a.createElement(p.a,{className:a.resName},t.data.name),r.a.createElement(p.a,{className:a.tableNumber}," ",t.data.asset.name)))))},B=a(153),L=a(167),G=a(166),q=a(155),W=a(156),H=a(162),J=a(160),V=a(165),$=a(152),Q=a(163),Z=a(74),U=a.n(Z),Y=a(62),K=a.n(Y),X=a(61),ee=a.n(X),te=a(73),ae=Object(y.a)((function(e){return{bill:{backgroundColor:"#FFFFFF",fontFamily:"SF Pro Display Regular"},billTxt:{fontWeight:"bold",fontFamily:"SF Pro Display Regular",fontSize:"14px",padding:"16px 16px 8px",textTransform:"uppercase"},billing:{display:"flex",justifyContent:"space-between",padding:"5px 16px",fontSize:"12px",textTransform:"uppercase"},dot:{border:"1px dashed #707070",margin:"5px 0 -5px"},total:{display:"flex",justifyContent:"space-between",padding:"16px",fontSize:"12px",textTransform:"uppercase",color:"#4EA23A",fontWeight:700}}})),ne=function(e){var t=ae(),a=e.billingInfo,n=e.totalPrice,o=e.serviceCharge,c=e.taxCharge,l=e.grandTotal,i=e.previousGrandTotal,s=e.tax,u=e.service;return r.a.createElement("div",null,r.a.createElement("div",{className:t.bill},r.a.createElement(p.a,{className:t.billTxt},"Bill"),i>0&&r.a.createElement("div",{className:t.billing},r.a.createElement("div",null,"Previous"),r.a.createElement("div",{className:t.price},"Rs.",i.toFixed(2))),r.a.createElement("div",{className:t.billing},r.a.createElement("div",null,"Sub Total"),r.a.createElement("div",{className:t.price},"Rs.",(a.data&&a.data.total)+(a.data&&a.data.discount_amount)||n)),a.data&&a.data.discount_amount>0&&r.a.createElement("div",{className:t.billing},r.a.createElement("div",null,"Discount"),r.a.createElement("div",{className:t.price},"Rs.",a.data&&a.data.discount_amount&&a.data.discount_amount.toFixed(2)||0)),r.a.createElement("div",{container:!0,className:t.billing},r.a.createElement("div",null,"Restaurant service charge(",u,"%)"),r.a.createElement("div",{className:t.price},"Rs.",a.data&&a.data.service_charge_amount.toFixed(2)||o.toFixed(2))),r.a.createElement("div",{className:t.billing},r.a.createElement("div",null,"VAT(",s,"%)"),r.a.createElement("div",{className:t.price},"Rs.",a.data&&a.data.taxed_amount.toFixed(2)||c.toFixed(2))),r.a.createElement("div",{className:t.dot}),r.a.createElement("div",{className:t.total},r.a.createElement("div",null,"Grand Total"),r.a.createElement("div",{className:t.price},"Rs.",((a.data&&a.data.grand_total||l)+i).toFixed(2)))))},re=Object(y.a)((function(e){return{root:{backgroundImage:'url("https://www.scandichotels.com/imagevault/publishedmedia/qn6infvg30381stkubky/scandic-sundsvall-city-restaurant-verket-10.jpg")'},secondary:{borderRadius:"20px 20px 0px 0px",display:"flex",flexDirection:"column",height:"auto",justifyContent:"space-between",backgroundColor:"#ECECEC"},third:{borderRadius:"20px 20px 0px 0px",backgroundColor:"#ECECEC"},stepper:{backgroundColor:"#ECECEC",borderRadius:"20px 20px 0px 0px","& .MuiStepIcon-root.MuiStepIcon-completed":{color:"green"},"& .MuiStepIcon-root.MuiStepIcon-active":{color:"#CECECE"}},steps:{flexDirection:"column",fontFamily:"SF Pro Display Regular","&.MuiStepLabel-iconContainer, &.MuiStepIcon-text":{display:"none",color:"currentColor",fontSize:"0"}},itemCart:{backgroundColor:"#a62a22",color:"white",display:"flex",justifyContent:"space-between",padding:"16px"},itemCartTxt:{fontSize:"14px"},AddItemTxt:{fontSize:"12px",textTransform:"uppercase"},orderList:{"& .MuiAccordionSummary-content.Mui-expanded":{margin:"10px 0"},"& .MuiIconButton-root":{padding:10}},processingTxt:{display:"flex",justifyContent:"space-between",width:"100%",fontFamily:"SF Pro Display Regular"},detailList:{display:"flex",flexDirection:"column"},detailListItem:{padding:"10px 0",display:"flex",justifyContent:"space-between",alignItems:"center",lineHeight:"1","&:first-child":{paddingTop:0}},productName:{fontWeight:"bold",fontSize:"14px",textTransform:"capitalize"},order:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",backgroundColor:"white",padding:"13px 16px"},buttons:{border:"1px solid black",borderRadius:"10px","& .MuiButton-root":{minWidth:"45px"}},divider:{border:"1px solid #D6D6D6",width:"99%",height:"0px"},bottomContainer:{backgroundColor:"#FFFFFF",padding:"16px",marginTop:"16px",display:"flex",flexDirection:"column"},bottomContainerTitle:{fontSize:16,fontWeight:700,marginBottom:8},inputField:{border:"1px solid #707070",borderRadius:"10px",height:30,margin:"6px 0","&:focus":{outline:"none"},"&:hover":{outline:"none"},"& .MuiInputBase-input":{padding:"0 14px",height:30},"& .MuiOutlinedInput-root":{height:30,"&:focus":{outline:"none"},"&:hover":{outline:"none"}},"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderRadius:10},"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline:focus":{outline:"none"},"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline:hover":{outline:"none"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"}},errorText:{color:"#A62A22",fontSize:13},btnGreen:{backgroundColor:"#4EA23A",color:"white",borderRadius:"5px",padding:"3px 14px",margin:"6px 0","&:hover, &:focus":{outline:"none",backgroundColor:"#4EA23A"}},btnGrid:{width:"100%",textAlign:"center",padding:"16px",backgroundColor:"#ECECEC"},btnRed:{backgroundColor:"#a62a22",color:"white",width:"100%",borderRadius:"5px","&:hover, &:focus":{outline:"none",backgroundColor:"#a62a22"}},second:{backgroundColor:"#FFFFFF"},select:{width:"75%",border:"1px solid #D0D3D5",borderRadius:"10px","&.MuiInput-underline:after":{borderBottom:"none"}}}}));var oe=function(e){var t=e.itemTotal,a=e.menuList,o=e.tableNumber,c=e.companyId;console.log(t,"test");var l=re(),i=Object(n.useState)({}),s=Object(d.a)(i,2),u=s[0],b=s[1],f=Object(n.useState)({}),h=Object(d.a)(f,2),g=h[0],x=h[1],E=Object(n.useState)(!1),C=Object(d.a)(E,2),y=(C[0],C[1]),N=Object(n.useState)({}),O=Object(d.a)(N,2),j=O[0],I=O[1],F=Object(n.useState)(3),R=Object(d.a)(F,2),D=R[0],M=R[1],_=["QR CODE","ORDER","CONFIRM","COMPLETE"],P=Object(n.useState)("panel1"),z=Object(d.a)(P,2),Z=z[0],Y=z[1],X=Object(n.useState)(null),ae=Object(d.a)(X,2),oe=ae[0],ce=ae[1];function le(){return(le=Object(T.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ge(),I(t),Object.keys(t).length>0||(a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:oe&&oe.phoneNumber,email:oe&&oe.email||""})},fetch(v+"order-user-detail?company=".concat(c),a).then((function(e){return e.json()})).then((function(e){return b(e)})).catch((function(e){return y(e)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(T.a)(S.a.mark((function e(){var t,n,r,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.data.order&&a.data.order.order_lines?((t=g.data).order_lines=a.data.order.order_lines.concat(t.order_lines),n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(w.a)(Object(w.a)({},t),{},{company:c,asset:o,id:a.data.order.id}))},fetch(v+"company/".concat(c,"/order/").concat(a.data.order.id),n).then((function(e){return e.json()})).then((function(e){return e.success?me.push("/Success"):function(){}})).catch((function(e){return y(e)}))):(r=g.data,l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(w.a)(Object(w.a)({},r),{},{company:c,asset:o}))},fetch(v+"company/".concat(c,"/order"),l).then((function(e){return e.json()})).then((function(e){return e.success?me.push("/Success"):function(){}})).catch((function(e){return y(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(T.a)(S.a.mark((function e(n){var r,l,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=xe(),I(r),!n&&Object.keys(r).length>0||(l=[],Object.keys(t).map((function(e){var n={id:null,product:t[e].id,product_name:t[e].name,product_code:t[e].productCode,rate:t[e].perPlate,quantity:t[e].number,total:t[e].total,state:"New",company:c,order:a.data.order&&a.data.order.id||null};l.push(n)})),i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:c,asset:o,user:u.data.user||null,name:oe&&oe.fullName||u.data.name||null,phone_number:oe&&oe.phoneNumber,email:oe&&oe.email||u.data.email||null,voucher:oe&&oe.couponeId||null,tax:13,bill:null,order_lines:l})},fetch(v+"company/af174b04-b495-47c1-bc32-c0dff7170c34/order/verify",i).then((function(e){return e.json()})).then((function(e){return x(e)})).catch((function(e){return y(e)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(T.a)(S.a.mark((function e(n){var r,l,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(r={}),!n&&Object.keys(r).length>0||(l=[],Object.keys(t).map((function(e){var n={id:null,product:t[e].id,product_name:t[e].name,product_code:t[e].productCode,rate:t[e].perPlate,quantity:t[e].number,total:t[e].total,state:"New",company:c,order:a.data.order&&a.data.order.id||null};l.push(n)})),i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:c,asset:o,user:u.data.user||null,name:oe&&oe.fullName||u.data.name||null,phone_number:oe&&oe.phoneNumber,email:oe&&oe.email||u.data.email||null,voucher:oe&&oe.couponeId||null,tax:13,bill:null,order_lines:l})},fetch(v+"company/af174b04-b495-47c1-bc32-c0dff7170c34/order/verify",i).then((function(e){return e.json()})).then((function(e){return x(e)})).catch((function(e){return y(e)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){u&&u.data&&u.data.voucher&&0==u.data.voucher.length&&se(!0)}),[u]);var me=Object(te.useHistory)(),pe=0;for(var be in t)t.hasOwnProperty(be)&&(pe+=t[be].total);var fe,he=function(e,t){delete j[e.target.name],t=Object(w.a)(Object(w.a)({},t),{},Object(k.a)({},e.target.name,e.target.value)),ce(t)},ge=function(){var e={};return oe&&oe.phoneNumber?oe.phoneNumber.match(/^[0-9]{8,15}$/)||(e.phoneNumber="Not valid"):e.phoneNumber="Phone is required",e},xe=function(){var e={};return oe&&oe.fullName||(e.fullName="Name is required"),oe.email&&!oe.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)&&(e.email="Not valid"),e},Ee=pe*(a.data.service_charge/100)||0,ve=pe*(a.data.tax/100)||0,Ce=pe+Ee+ve;return r.a.createElement("div",{className:l.root},r.a.createElement(A,{menuList:a,props:e}),r.a.createElement("div",{className:l.secondary},r.a.createElement("div",{className:l.third},r.a.createElement(m.a,{className:l.stepperContainer},r.a.createElement(V.a,{activeStep:D,className:l.stepper},_.map((function(e){return r.a.createElement($.a,{key:e},r.a.createElement(Q.a,{className:l.steps},e))}))),r.a.createElement("div",null,D===_.length?r.a.createElement("div",null,r.a.createElement(p.a,{className:l.instructions},"All steps completed"),r.a.createElement(B.a,{onClick:function(){M(0)}},"Reset")):null)),r.a.createElement("div",{className:l.itemCart},r.a.createElement(p.a,{className:l.itemCartTxt},"Items In Cart"),r.a.createElement(p.a,{className:l.AddItemTxt,onClick:function(){return e.proceedToRedeem()}},"Add More Items +")),r.a.createElement(L.a,{square:!0,expanded:"panel1"===Z,onChange:(fe="panel1",function(e,t){Y(!!t&&fe)}),className:l.orderList},r.a.createElement(G.a,{expandIcon:r.a.createElement(U.a,null)},r.a.createElement("div",{className:l.processingTxt},r.a.createElement(p.a,null,"Previous Order"),r.a.createElement(p.a,null,"Processing"))),r.a.createElement(q.a,{className:l.detailList},a.data.order&&a.data.order.order_lines.map((function(e,t){return r.a.createElement("div",{className:l.detailListItem},r.a.createElement(p.a,{className:l.productName,key:t},e.product_name),r.a.createElement("span",null,e.state))})))),Object.keys(e.itemTotal).map((function(t,a){return e.itemTotal[t].total>0&&r.a.createElement(m.a,{container:!0,className:l.item,key:a},r.a.createElement("div",{className:l.order},r.a.createElement(p.a,{className:l.productName},e.itemTotal[t].name),r.a.createElement(m.a,null,r.a.createElement("div",{className:l.buttons},r.a.createElement(B.a,{onClick:function(){return e.removeItem(t,"",e.itemTotal[t].perPlate,e.itemTotal[t].name,e.itemTotal[t].id,e.itemTotal[t].product_code)}},r.a.createElement(ee.a,null)),r.a.createElement("span",null,e.itemTotal[t]&&e.itemTotal[t].number||0),r.a.createElement(B.a,{onClick:function(){return e.addItem(t,"",e.itemTotal[t].perPlate,e.itemTotal[t].name,e.itemTotal[t].id,e.itemTotal[t].product_code)}},r.a.createElement(K.a,null))))),r.a.createElement(W.a,{className:l.divider}))})),r.a.createElement(ne,{billingInfo:g,totalPrice:pe,serviceCharge:Ee,taxCharge:ve,grandTotal:Ce,previousGrandTotal:a.data&&a.data.order&&a.data.order.grand_total||0,tax:a.data.tax,service:a.data.service_charge})),0==Object.keys(g).length&&r.a.createElement(m.a,{className:l.bottomContainer},0==Object.keys(u).length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{component:"h5",className:l.bottomContainerTitle},"Coupon & Discount"),r.a.createElement(H.a,{variant:"outlined",placeholder:"Phone No.",className:l.inputField,name:"phoneNumber",value:oe&&oe.phoneNumber||"",onChange:function(e){return he(e,oe)}}),j&&j.phoneNumber&&r.a.createElement("p",{className:l.errorText},j.phoneNumber),a.data.order&&0==Object.keys(u).length&&r.a.createElement(B.a,{variant:"contained",className:l.btnGreen,onClick:function(){return function(){return le.apply(this,arguments)}()}},"Continue")),u&&u.data&&!u.data.voucher&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{component:"h5",className:l.bottomContainerTitle},"Register For Coupon"),r.a.createElement(H.a,{variant:"outlined",placeholder:"Full Name",className:l.inputField,name:"fullName",value:oe&&oe.fullName||"",onChange:function(e){return he(e,oe)}}),j&&j.fullName&&r.a.createElement("p",{className:l.errorText},j.fullName),r.a.createElement(H.a,{variant:"outlined",placeholder:"Email Address (Optional)",className:l.inputField,name:"email",value:oe&&oe.email||"",onChange:function(e){return he(e,oe)}}),j&&j.email&&r.a.createElement("p",{className:"danger",style:{color:"red"}},j.email),r.a.createElement(B.a,{variant:"contained",onClick:function(){return se()},className:l.btnGreen},"Continue")),u&&u.data&&u.data.voucher&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{component:"h5",className:l.bottomContainerTitle},"Coupon & Discount"),r.a.createElement(J.a,{name:"couponeId",native:!0,className:l.select,value:oe&&oe.couponeId||"",onChange:function(e){return he(e,oe)},placeholder:"Select Coupone"},r.a.createElement("option",{"aria-label":"None",value:""}),u.data.voucher.map((function(e,t){return r.a.createElement("option",{value:e.id,key:t},e.description)}))),r.a.createElement(B.a,{variant:"contained",onClick:function(){return function(e){return de.apply(this,arguments)}()}},"Apply"))),0!=Object.keys(g).length&&r.a.createElement(m.a,{className:l.btnGrid},r.a.createElement(B.a,{variant:"contained",className:l.btnRed,onClick:function(){return function(){return ie.apply(this,arguments)}()}},D===_.length-1?"Finish":"Confirm Order"))))},ce=a(161),le=a(159),ie=a(154),se=Object(y.a)({root:{backgroundColor:"#ECECEC",display:"flex",justifyContent:"space-between",padding:"9px 20px",alignItems:"center"},buttons:{border:"1px solid black",borderRadius:"10px",fontFamily:"SF Pro Display","& .MuiButton-root":{minWidth:"45px"},"& button":{"&:hover, &:focus":{outline:"none"}}},addOrder:{border:"1px solid #707070",borderRadius:"10px",fontSize:"13px",backgroundColor:"#fff",fontFamily:"SF Pro Display",color:"#8D8E94","&:hover, &:focus":{outline:"none",backgroundColor:"#fff"}},productName:{fontSize:"16px",color:"#0D0D0D",fontFamily:"SF Pro Display",textTransform:"capitalize"},productPrice:{fontFamily:"SF Pro Display",fontSize:"16px",color:"#707070"},viewImg:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"5px"},viewTxt:{cursor:"pointer",fontFamily:"SF Pro Display",marginLeft:"5px",padding:"2px 5px",fontSize:"11px",backgroundColor:"#D6D6D6"},imgView:Object(k.a)({position:"fixed",zIndex:"1",paddingTop:"100px",left:"0",top:"0",width:"100%",height:"100%",overflow:"auto",backgroundColor:"rgb(0,0,0)"},"backgroundColor","rgba(0,0,0,0.9)")}),ue=function(e){var t=e.open,a=e.product,o=e.menuIndex,c=e.index,l=e.itemTotal,i=e.addItem,s=e.removeItem,u=se(),m=Object(n.useState)(!1),b=Object(d.a)(m,2),f=b[0],h=b[1];return r.a.createElement("div",{className:u.root},r.a.createElement("div",{className:u.textBox},r.a.createElement(p.a,{className:u.productName},"".concat(a.name))," ",r.a.createElement("div",{className:u.viewImg},r.a.createElement(p.a,{className:u.productPrice},"Rs ".concat(a.price)),a.images.length>0&&r.a.createElement(p.a,{className:u.viewTxt,onClick:function(){h(!f)}},"View Image"),f?r.a.createElement("img",{src:a.images[0].image,alt:"smth",className:u.imgView,onClick:function(){return h(!f)}}):null)),r.a.createElement("div",null,l[o.toString()+c.toString()]?r.a.createElement("div",{className:u.buttons},r.a.createElement(B.a,{onClick:function(){return s(o.toString(),c.toString(),a.price,a.name,a.id,a.product_code)}},r.a.createElement(ee.a,null)),r.a.createElement("span",null,l[o.toString()+c.toString()]&&l[o.toString()+c.toString()].number||0),r.a.createElement(B.a,{onClick:function(){return i(o.toString(),c.toString(),a.price,a.name,a.id,a.product_code)}},r.a.createElement(K.a,null))):r.a.createElement(B.a,{className:u.addOrder,onClick:function(){return i(o.toString(),c.toString(),a.price,a.name,a.id,a.product_code,{open:t})}},"Add Order")))};function de(e){var t=e.children,a=e.value,n=e.index,o=Object(I.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-prevent-tabpanel-".concat(n),"aria-labelledby":"scrollable-prevent-tab-".concat(n)},o),a===n&&r.a.createElement(r.a.Fragment,null,t))}var me=Object(y.a)((function(e){return{root:{backgroundImage:'url("https://www.scandichotels.com/imagevault/publishedmedia/qn6infvg30381stkubky/scandic-sundsvall-city-restaurant-verket-10.jpg")',backgroundColor:"#ECECEC"},secondRoot:{borderRadius:"20px 20px 0px 0px",padding:"18px 0",backgroundColor:"#ECECEC",height:"73vh",display:"flex",flexDirection:"column"},tabs:{backgroundColor:"#ECECEC",marginTop:-15,borderRadius:"20px 20px 0px 0px","&.MuiTab-textColorInherit.Mui-selected":{color:"#a62a22"}},checkoutContainer:{width:"100%",backgroundColor:"#4EA23A",justifyContent:"space-between",alignItems:"center",position:"sticky",padding:"9px 20px",bottom:0},totalPrice:{color:"#fff",fontSize:16,fontWeight:700},checkout:{border:"1px solid black",borderRadius:"10px",fontSize:"14px",backgroundColor:"#ECECEC !important"},product:{padding:"none"},panel:{backgroundColor:"#ECECEC !important",paddingBottom:"65px","&.MuiBox-root-15":{padding:"0"}},orderBtn:{color:"white",backgroundColor:"#A62A22",borderRadius:"10px",padding:"8px 16px","&:hover, &:focus":{outline:"none",backgroundColor:"#A62A22"}},orderBtnContainer:{position:"fixed",justifyContent:"center",bottom:20},total:{color:"white",fontSize:"14px",lineHeight:"14px"},viewTxt:{color:"#273238"}}})),pe=function(e){var t=me(),a=r.a.useState(0),o=Object(d.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(!1),u=Object(d.a)(s,2),b=u[0],f=u[1],h=Object(n.useState)(!1),g=Object(d.a)(h,2),x=(g[0],g[1],Object(n.useState)({})),E=Object(d.a)(x,2),C=E[0],y=E[1],N=Object(n.useState)({}),O=Object(d.a)(N,2),j=O[0],I=O[1],F=Object(n.useState)(!1),R=Object(d.a)(F,2),D=R[0],M=R[1],_=Object(n.useState)(!1),P=Object(d.a)(_,2),z=(P[0],P[1],function(){M(!D)}),L=(Object(l.useHistory)(),new URLSearchParams(e.location.search));var G=function(e,t,a,n,r,o){var c=Object(w.a)(Object(w.a)({},j),{},Object(k.a)({},e+t,{id:r,productCode:o,name:n,perPlate:a,number:j[e+t]&&j[e+t].number?j[e+t].number+1:1,total:j[e+t]&&j[e+t].number?(j[e+t].number+1)*a:1*a}));I(c)},q=function(e,t,a,n,r,o){if(j[e+t]&&j[e+t].number>0){var c=Object(w.a)(Object(w.a)({},j),{},Object(k.a)({},e+t,{id:r,productCode:o,name:n,perPlate:a,number:j[e+t]&&j[e+t].number?j[e+t].number-1:-1,total:j[e+t]&&j[e+t].number?(j[e+t].number-1)*a:-1*a}));j[e+t].number,I(c)}};function W(){return(W=Object(T.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(v+"company/".concat(e.match.params.id,"/menu?asset=")+L.get("table_no"));case 2:t.sent.json().then((function(e){return y(e)})).catch((function(e){return f(e)}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){W.apply(this,arguments)}()}),[]);var H=0;for(var J in j)j.hasOwnProperty(J)&&(H+=j[J].total);return r.a.createElement("div",null,b?r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.secondRoot},"No data found!")):r.a.createElement("div",null,D?r.a.createElement(oe,{itemTotal:j,addItem:G,removeItem:q,proceedToRedeem:z,menuList:C,tableNumber:L.get("table_no"),companyId:e.match.params.id}):r.a.createElement("div",{className:t.root},r.a.createElement(A,{menuList:C,tableNumber:L.get("table_no")}),r.a.createElement("div",{className:t.secondRoot},r.a.createElement(ce.a,{className:t.tabs,value:c,onChange:function(e,t){i(t)},variant:"scrollable",scrollButtons:"off","aria-label":"scrollable prevent tabs example"},C&&C.data&&C.data.menu.map((function(e,t){return r.a.createElement(le.a,Object.assign({label:e.category_name},function(e){return{id:"scrollable-prevent-tab-".concat(e),"aria-controls":"scrollable-prevent-tabpanel-".concat(e)}}(t),{key:t}))}))),C&&C.data&&C.data.menu.map((function(e,a){return r.a.createElement(de,{className:t.panel,key:a,value:c,index:a},e.products.map((function(e,n){return r.a.createElement(ue,{key:n,className:t.product,product:e,menuIndex:a,index:n,itemTotal:j,addItem:G,removeItem:q})})))}))),r.a.createElement(m.a,{container:!0,className:t.orderBtnContainer},r.a.createElement(ie.a,{in:H>0,className:t.Collapse},r.a.createElement("div",{className:t.checkoutContainer},r.a.createElement("div",null,r.a.createElement(p.a,{className:t.total},"Total"),r.a.createElement("span",{className:t.totalPrice},"Rs ",H)),r.a.createElement(B.a,{className:t.checkout,onClick:function(){return z()}},"Check out")," "))))))},be=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2);a[0],a[1];return r.a.createElement(r.a.Fragment,null,e.children)},fe=Object(y.a)((function(e){return{root:{backgroundImage:'url("https://www.scandichotels.com/imagevault/publishedmedia/qn6infvg30381stkubky/scandic-sundsvall-city-restaurant-verket-10.jpg")',fontFamily:"SF Pro Display Regular"},secondRoot:{borderRadius:"20px 20px 0px 0px",padding:"18px 0",backgroundColor:"#ECECEC",height:"73vh",display:"flex",flexDirection:"column"},stepper:{backgroundColor:"#ECECEC",borderRadius:"20px 20px 0px 0px",padding:"0 24px","& .MuiStepIcon-root.MuiStepIcon-completed":{color:"green"},"& .MuiStepIcon-root.MuiStepIcon-active":{color:"#CECECE"}},steps:{flexDirection:"column"},showCase:{flex:"1 0 auto",display:"flex",flexDirection:"column",justifyContent:"space-around"},svg:{display:"flex",justifyContent:"center"},otherImages:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},cupponproSVG:{paddingLeft:"24px",width:"40%"},discountSVG:{width:"40%"},successText:{color:"#000000",textTransform:"uppercase",fontWeight:"bold",fontSize:"28px",display:"flex",justifyContent:"center"},successSubText:{color:"#000000",textTransform:"uppercase",fontSize:"14px",display:"flex",justifyContent:"center"},btnGroups:{display:"flex",padding:"0 24px",flexDirection:"column"},btnCupponpro:{marginBottom:"10px",backgroundColor:"#a62a22",color:"white"},btnDone:{backgroundColor:"#273238",color:"white"}}}));var he=function(e){var t=e.props,a=fe(),o=Object(n.useState)({}),c=Object(d.a)(o,2),l=c[0],i=(c[1],Object(n.useState)(!1)),s=Object(d.a)(i,2),u=(s[0],s[1],Object(n.useState)(4)),m=Object(d.a)(u,2),b=m[0],f=(m[1],["QR CODE","ORDER","CONFIRM","COMPLETE"]);return r.a.createElement("div",{className:a.root},r.a.createElement(A,{menuList:l,props:t}),r.a.createElement("div",{className:a.secondRoot},r.a.createElement(V.a,{activeStep:b,className:a.stepper},f.map((function(e){return r.a.createElement($.a,{key:e},r.a.createElement(Q.a,{className:a.steps},e))}))),r.a.createElement("div",{className:a.showCase},r.a.createElement("div",{className:a.svg},r.a.createElement("img",{src:"/complete.svg",alt:"complete",className:a.img})),r.a.createElement("div",null,r.a.createElement(p.a,{className:a.successText},"Order Success"),r.a.createElement(p.a,{className:a.successSubText},"Your food will arrive shortly")),r.a.createElement("div",{className:a.otherImages},r.a.createElement("img",{className:a.cupponproSVG,src:"/Cp.svg",alt:"Cp"}),r.a.createElement("img",{src:"/Discount.svg",alt:"Cp",className:a.discountSVG}))),r.a.createElement("div",{className:a.btnGroups},r.a.createElement(B.a,{variant:"contained",className:a.btnCupponpro},"Go To Cupponpro"),r.a.createElement(B.a,{variant:"contained",className:a.btnDone},"Done"))))},ge=Object(i.createBrowserHistory)(),xe=function(){return r.a.createElement(l.Router,{history:ge},r.a.createElement(be,null,r.a.createElement(l.Switch,null,r.a.createElement(l.Route,{path:"/",exact:!0,component:O}),r.a.createElement(l.Route,{path:"/success",exact:!0,component:he}),r.a.createElement(l.Route,{path:"/:id",exact:!0,component:pe}),r.a.createElement(l.Route,{path:"/:id/billing",exact:!0,component:oe}),r.a.createElement(l.Route,{component:u}))))};a(103);var Ee=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(xe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=a(50);a(104);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve.a,null,r.a.createElement(Ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a(105)},93:function(e,t,a){},97:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.50ba9d1f.chunk.js.map